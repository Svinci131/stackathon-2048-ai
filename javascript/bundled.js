!function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./directions"),a=t("./utils"),u=a.transpose,s=a.twoOrFour,l=a.getFlatArr,c=(a.absoluteDiff,function(){function t(){n(this,t),this.board=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.lastOrientation="horizontal",this.emptyspots=[[0,1,2,3],[0,1,2,3],[0,1,2,3],[0,1,2,3]],this.gameOver=!1,this.transposed}return o(t,[{key:"fillRandomEmptySpace",value:function(){var t=Math.round(3*Math.random()+0),e=this.emptyspots[t];if(e.length){var r=Math.round(Math.random()*(e.length-1-0)+0),n=e[r];this.board[t][n]=s(),this.emptyspots[t].splice(r,1)}else this.gameOver=!0}},{key:"update",value:function(t,e){t!==this.lastOrientation&&(this.board=u(this.board));var r=i[t][e];this.swipe(r),this.lastOrientation=t}},{key:"swipe",value:function(t){for(var e=0;4>e;e++)this.board[e]=t(this.board[e])}},{key:"actualScore",value:function(){var t=l(this.board);return Math.max.apply(Math,t)}},{key:"clusteredScore",value:function e(){var t=l(this.board),e=t.reduce(function(e,r,n){var o=a.getNeighbors(t,r),i=a.getAverageDiffSansZeros(o,n);return e+=i},0);return e}},{key:"heuristicScore",value:function(){var t=this.actualScore(),e=this.clusteredScore(),r=l(this.emptyspots).length,n=t+Math.log(t)*r-e;return Math.max(n,Math.min(t,1))}}]),t}());e.exports=c},{"./directions":2,"./utils":5}],2:[function(t,e,r){"use strict";var n=t("./swipe");e.exports={horizontal:{left:n.swipeLeft,right:n.swipeRight},vertical:{up:n.swipeLeft,down:n.swipeRight}}},{"./swipe":4}],3:[function(t,e,r){"use strict";function n(){a.fillRandomEmptySpace(),o(a)}function o(t){var e=t.board,r=t.lastOrientation;console.log(e);for(var n=0;4>n;n++)for(var o=0;4>o;o++){var i=$('[data-cellid="'+n+"-"+o+'"]');if(console.log("h",n,"v",o),console.log("v",o,"h",n),"horizontal"===r){$('[data-cellid="'+n+"-"+o+'"]')}i.text()!==e[n][o]&&(i.empty(),e[n][o]?$(i).html('<div class="cell-num"><h1>'+e[n][o]+"</h1></div>"):$(i).html('<div class="cell-num zero"><h1>'+e[n][o]+"</h1></div>"))}}console.log("hi");var i=t("./board"),a=new i;n(),$("body").keydown(function(t){37===t.keyCode?(a.update("horizontal","left"),a.fillRandomEmptySpace()):39===t.keyCode?(a.update("horizontal","right"),a.fillRandomEmptySpace()):38===t.keyCode?(a.update("vertical","up"),a.fillRandomEmptySpace()):40===t.keyCode&&(a.update("vertical","down"),a.fillRandomEmptySpace()),o(a)})},{"./board":1}],4:[function(t,e,r){"use strict";function n(t){for(var e=[0,0,0,0],r=3,n={},o=3;o>=0;o--)if(!n[o]&&t[o])if(t[o]!==t[o-1])e[r]=t[o],r--;else{var i=t[o-1]+t[o];e[r]=i,n[o-1]=!0,r--}return t=e}function o(t){for(var e=[],r={},n=0;4>n;n++)if(!r[n]&&t[n])if(t[n]!==t[n+1])e.push(t[n]);else{var o=t[n+1]+t[n];e.push(o),r[n+1]=!0}return t=e.concat(i(4-e.length))}var i=t("./utils").fillZeros;e.exports={swipeRight:n,swipeLeft:o}},{"./utils":5}],5:[function(t,e,r){"use strict";function n(){var t=[4,2],e=Math.round(1*Math.random()+1);return t[e-1]}function o(t){return t.reduce(function(t,e){return t=t.concat(e)},[])}function i(t,e){return t-e}function a(t){for(var e=t.length,r=t[0].length,n=[],o=0;e>o;o++){n[o]=[];for(var i=0;r>i;i++)n[o][i]=t[i][o]}return n}function u(t,e){var r=[t[e-4],t[e+1],t[e+4],t[e-1]];return r}function s(t){var e=0,r=t.reduce(function(t,r){return r&&(t+=r,e++),t},0);return r?Math.floor(r/e):0}function l(t){for(var e=[],r=0;t>r;r++)e.push(0);return e}e.exports={twoOrFour:n,transpose:a,fillZeros:l,getFlatArr:o,absoluteDiff:i,getAverageDiffSansZeros:s,getNeighbors:u}},{}]},{},[3]);
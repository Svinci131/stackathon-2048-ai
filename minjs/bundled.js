!function t(r,e,n){function o(a,u){if(!e[a]){if(!r[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=e[a]={exports:{}};r[a][0].call(s.exports,function(t){var e=r[a][1][t];return o(e?e:t)},s,s.exports,t,r,e,n)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,r,e){"use strict";function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),i=t("./directions"),a=t("./utils"),u=a.transpose,c=a.twoOrFour,f=a.getFlatArr,s=(a.absoluteDiff,function(){function t(){n(this,t),this.board=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.lastOrientation="horizontal",this.lastDirection,this.emptyspots=[[0,1,2,3],[0,1,2,3],[0,1,2,3],[0,1,2,3]],this.gameOver=!1,this.transposed}return o(t,[{key:"fillRandomEmptySpace",value:function(){var t=Math.round(3*Math.random()+0),r=this.emptyspots[t];if(r.length){var e=Math.round(Math.random()*(r.length-1-0)+0),n=r[e];this.board[t][n]=c(),this.emptyspots[t].splice(e,1)}else this.gameOver=!0}},{key:"update",value:function(t,r){this.lastDirection=r,t!==this.lastOrientation&&(this.board=u(this.board));var e=i[t][r];this.swipe(e),this.lastOrientation=t}},{key:"swipe",value:function(t){for(var r=0;4>r;r++)this.board[r]=t(this.board[r])}},{key:"actualScore",value:function(){var t=f(this.board);return Math.max.apply(Math,t)}},{key:"clusteredScore",value:function r(){var t=f(this.board),r=t.reduce(function(r,e,n){var o=a.getNeighbors(t,e),i=a.getAverageDiffSansZeros(o,n);return r+=i},0);return r}},{key:"heuristicScore",value:function(){var t=this.actualScore(),r=this.clusteredScore(),e=f(this.emptyspots).length,n=t+Math.log(t)*e-r;return Math.max(n,Math.min(t,1))}}]),t}());r.exports=s},{"./directions":2,"./utils":7}],2:[function(t,r,e){"use strict";var n=t("./swipe");r.exports={horizontal:{left:n.swipeLeft,right:n.swipeRight},vertical:{up:n.swipeLeft,down:n.swipeRight}}},{"./swipe":6}],3:[function(t,r,e){"use strict";r.exports=function(t){for(var r=t.board,e=t.lastOrientation,n=void 0,o=void 0,i=0;4>i;i++)for(var a=0;4>a;a++){"horizontal"===e?(n=i,o=a):(n=a,o=i);var u=$('[data-cellid="'+n+"-"+o+'"]');u.text()!==r[n][o]&&(u.empty(),r[n][o]?$(u).html('<div class="cell-num"><h1>'+r[n][o]+"</h1></div>"):$(u).html('<div class="cell-num zero"><h1>'+r[n][o]+"</h1></div>"))}}},{}],4:[function(t,r,e){"use strict";var n=t("../board"),o=new n,i=t("lodash.clone"),a=t("../frontend/render.js"),u=i(o.board);r.exports=function(){function t(){o.fillRandomEmptySpace(),a(o)}t(),$("body").keydown(function(t){37===t.keyCode?(console.log("here"),o.update("horizontal","left"),u!==o.board&&(console.log("adding"),o.fillRandomEmptySpace())):39===t.keyCode?(o.update("horizontal","right"),u!==o.board&&o.fillRandomEmptySpace()):38===t.keyCode?(o.update("vertical","up"),u!==o.board&&o.fillRandomEmptySpace()):40===t.keyCode&&(o.update("vertical","down"),u!==o.board&&o.fillRandomEmptySpace()),u=i(o.board),a(o)})}},{"../board":1,"../frontend/render.js":3,"lodash.clone":9}],5:[function(t,r,e){"use strict";var n=t("./humanGame");n()},{"./humanGame":4}],6:[function(t,r,e){"use strict";function n(t){for(var r=[0,0,0,0],e=3,n={},o=3;o>=0;o--)if(!n[o]&&t[o])if(t[o]!==t[o-1])r[e]=t[o],e--;else{var i=t[o-1]+t[o];r[e]=i,n[o-1]=!0,e--}return t=r}function o(t){for(var r=[],e={},n=0;4>n;n++)if(!e[n]&&t[n])if(t[n]!==t[n+1])r.push(t[n]);else{var o=t[n+1]+t[n];r.push(o),e[n+1]=!0}return t=r.concat(i(4-r.length))}var i=t("./utils").fillZeros;r.exports={swipeRight:n,swipeLeft:o}},{"./utils":7}],7:[function(t,r,e){"use strict";function n(){var t=[4,2],r=Math.round(1*Math.random()+1);return t[r-1]}function o(t){return t.reduce(function(t,r){return t=t.concat(r)},[])}function i(t,r){return t-r}function a(t){for(var r=t.length,e=t[0].length,n=[],o=0;r>o;o++){n[o]=[];for(var i=0;e>i;i++)n[o][i]=t[i][o]}return n}function u(t,r){var e=[t[r-4],t[r+1],t[r+4],t[r-1]];return e}function c(t){var r=0,e=t.reduce(function(t,e){return e&&(t+=e,r++),t},0);return e?Math.floor(e/r):0}function f(t){for(var r=[],e=0;t>e;e++)r.push(0);return r}r.exports={twoOrFour:n,transpose:a,fillZeros:f,getFlatArr:o,absoluteDiff:i,getAverageDiffSansZeros:c,getNeighbors:u}},{}],8:[function(t,r,e){(function(t){function n(t,r){return t.set(r[0],r[1]),t}function o(t,r){return t.add(r),t}function i(t,r){for(var e=-1,n=t.length;++e<n&&r(t[e],e,t)!==!1;);return t}function a(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t}function u(t,r,e,n){var o=-1,i=t.length;for(n&&i&&(e=t[++o]);++o<i;)e=r(e,t[o],o,t);return e}function c(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}function f(t){return t&&t.Object===Object?t:null}function s(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(e){}return r}function l(t){var r=-1,e=Array(t.size);return t.forEach(function(t,n){e[++r]=[n,t]}),e}function p(t){var r=-1,e=Array(t.size);return t.forEach(function(t){e[++r]=t}),e}function h(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function d(){this.__data__=Lr?Lr(null):{}}function v(t){return this.has(t)&&delete this.__data__[t]}function y(t){var r=this.__data__;if(Lr){var e=r[t];return e===Dt?void 0:e}return jr.call(r,t)?r[t]:void 0}function _(t){var r=this.__data__;return Lr?void 0!==r[t]:jr.call(r,t)}function b(t,r){var e=this.__data__;return e[t]=Lr&&void 0===r?Dt:r,this}function g(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function w(){this.__data__=[]}function m(t){var r=this.__data__,e=I(r,t);if(0>e)return!1;var n=r.length-1;return e==n?r.pop():Fr.call(r,e,1),!0}function j(t){var r=this.__data__,e=I(r,t);return 0>e?void 0:r[e][1]}function O(t){return I(this.__data__,t)>-1}function A(t,r){var e=this.__data__,n=I(e,t);return 0>n?e.push([t,r]):e[n][1]=r,this}function x(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function S(){this.__data__={hash:new h,map:new(Cr||g),string:new h}}function M(t){return ot(this,t)["delete"](t)}function k(t){return ot(this,t).get(t)}function E(t){return ot(this,t).has(t)}function D(t,r){return ot(this,t).set(t,r),this}function F(t){this.__data__=new g(t)}function R(){this.__data__=new g}function $(t){return this.__data__["delete"](t)}function z(t){return this.__data__.get(t)}function C(t){return this.__data__.has(t)}function P(t,r){var e=this.__data__;return e instanceof g&&e.__data__.length==Et&&(e=this.__data__=new x(e.__data__)),e.set(t,r),this}function U(t,r,e){var n=t[r];jr.call(t,r)&&_t(n,e)&&(void 0!==e||r in t)||(t[r]=e)}function I(t,r){for(var e=t.length;e--;)if(_t(t[e][0],r))return e;return-1}function L(t,r){return t&&rt(r,Mt(r),t)}function N(t,r,e,n,o,a,u){var c;if(n&&(c=a?n(t,o,a,u):n(t)),void 0!==c)return c;if(!Ot(t))return t;var f=Hr(t);if(f){if(c=ft(t),!r)return tt(t,c)}else{var l=ct(t),p=l==Ut||l==It;if(Jr(t))return V(t,r);if(l==qt||l==Rt||p&&!a){if(s(t))return a?t:{};if(c=st(p?{}:t),!r)return et(t,L(c,t))}else{if(!fr[l])return a?t:{};c=lt(t,l,N,r)}}u||(u=new F);var h=u.get(t);if(h)return h;if(u.set(t,c),!f)var d=e?nt(t):Mt(t);return i(d||t,function(o,i){d&&(i=o,o=t[i]),U(c,i,N(o,r,e,n,i,t,u))}),c}function q(t){return Ot(t)?Er(t):{}}function B(t,r,e){var n=r(t);return Hr(t)?n:a(n,e(t))}function T(t,r){return jr.call(t,r)||"object"==typeof t&&r in t&&null===at(t)}function Z(t){return $r(Object(t))}function G(t){return function(r){return null==r?void 0:r[t]}}function V(t,r){if(r)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}function W(t){var r=new t.constructor(t.byteLength);return new Mr(r).set(new Mr(t)),r}function H(t,r){var e=r?W(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function J(t,r,e){var o=r?e(l(t),!0):l(t);return u(o,n,new t.constructor)}function K(t){var r=new t.constructor(t.source,ar.exec(t));return r.lastIndex=t.lastIndex,r}function Q(t,r,e){var n=r?e(p(t),!0):p(t);return u(n,o,new t.constructor)}function X(t){return Vr?Object(Vr.call(t)):{}}function Y(t,r){var e=r?W(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function tt(t,r){var e=-1,n=t.length;for(r||(r=Array(n));++e<n;)r[e]=t[e];return r}function rt(t,r,e,n){e||(e={});for(var o=-1,i=r.length;++o<i;){var a=r[o],u=n?n(e[a],t[a],a,e,t):t[a];U(e,a,u)}return e}function et(t,r){return rt(t,ut(t),r)}function nt(t){return B(t,Mt,ut)}function ot(t,r){var e=t.__data__;return dt(r)?e["string"==typeof r?"string":"hash"]:e.map}function it(t,r){var e=t[r];return xt(e)?e:void 0}function at(t){return Rr(Object(t))}function ut(t){return kr(Object(t))}function ct(t){return Or.call(t)}function ft(t){var r=t.length,e=t.constructor(r);return r&&"string"==typeof t[0]&&jr.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function st(t){return"function"!=typeof t.constructor||vt(t)?{}:q(at(t))}function lt(t,r,e,n){var o=t.constructor;switch(r){case Ht:return W(t);case zt:case Ct:return new o(+t);case Jt:return H(t,n);case Kt:case Qt:case Xt:case Yt:case tr:case rr:case er:case nr:case or:return Y(t,n);case Lt:return J(t,n,e);case Nt:case Gt:return new o(t);case Tt:return K(t);case Zt:return Q(t,n,e);case Vt:return X(t)}}function pt(t){var r=t?t.length:void 0;return jt(r)&&(Hr(t)||St(t)||bt(t))?c(r,String):null}function ht(t,r){return r=null==r?Ft:r,!!r&&("number"==typeof t||cr.test(t))&&t>-1&&t%1==0&&r>t}function dt(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}function vt(t){var r=t&&t.constructor,e="function"==typeof r&&r.prototype||wr;return t===e}function yt(t){if(null!=t){try{return mr.call(t)}catch(r){}try{return t+""}catch(r){}}return""}function _t(t,r){return t===r||t!==t&&r!==r}function bt(t){return wt(t)&&jr.call(t,"callee")&&(!Dr.call(t,"callee")||Or.call(t)==Rt)}function gt(t){return null!=t&&jt(Wr(t))&&!mt(t)}function wt(t){return At(t)&&gt(t)}function mt(t){var r=Ot(t)?Or.call(t):"";return r==Ut||r==It}function jt(t){return"number"==typeof t&&t>-1&&t%1==0&&Ft>=t}function Ot(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function At(t){return!!t&&"object"==typeof t}function xt(t){if(!Ot(t))return!1;var r=mt(t)||s(t)?Ar:ur;return r.test(yt(t))}function St(t){return"string"==typeof t||!Hr(t)&&At(t)&&Or.call(t)==Gt}function Mt(t){var r=vt(t);if(!r&&!gt(t))return Z(t);var e=pt(t),n=!!e,o=e||[],i=o.length;for(var a in t)!T(t,a)||n&&("length"==a||ht(a,i))||r&&"constructor"==a||o.push(a);return o}function kt(t){return function(){return t}}var Et=200,Dt="__lodash_hash_undefined__",Ft=9007199254740991,Rt="[object Arguments]",$t="[object Array]",zt="[object Boolean]",Ct="[object Date]",Pt="[object Error]",Ut="[object Function]",It="[object GeneratorFunction]",Lt="[object Map]",Nt="[object Number]",qt="[object Object]",Bt="[object Promise]",Tt="[object RegExp]",Zt="[object Set]",Gt="[object String]",Vt="[object Symbol]",Wt="[object WeakMap]",Ht="[object ArrayBuffer]",Jt="[object DataView]",Kt="[object Float32Array]",Qt="[object Float64Array]",Xt="[object Int8Array]",Yt="[object Int16Array]",tr="[object Int32Array]",rr="[object Uint8Array]",er="[object Uint8ClampedArray]",nr="[object Uint16Array]",or="[object Uint32Array]",ir=/[\\^$.*+?()[\]{}|]/g,ar=/\w*$/,ur=/^\[object .+?Constructor\]$/,cr=/^(?:0|[1-9]\d*)$/,fr={};fr[Rt]=fr[$t]=fr[Ht]=fr[Jt]=fr[zt]=fr[Ct]=fr[Kt]=fr[Qt]=fr[Xt]=fr[Yt]=fr[tr]=fr[Lt]=fr[Nt]=fr[qt]=fr[Tt]=fr[Zt]=fr[Gt]=fr[Vt]=fr[rr]=fr[er]=fr[nr]=fr[or]=!0,fr[Pt]=fr[Ut]=fr[Wt]=!1;var sr={"function":!0,object:!0},lr=sr[typeof e]&&e&&!e.nodeType?e:void 0,pr=sr[typeof r]&&r&&!r.nodeType?r:void 0,hr=pr&&pr.exports===lr?lr:void 0,dr=f(lr&&pr&&"object"==typeof t&&t),vr=f(sr[typeof self]&&self),yr=f(sr[typeof window]&&window),_r=f(sr[typeof this]&&this),br=dr||yr!==(_r&&_r.window)&&yr||vr||_r||Function("return this")(),gr=Array.prototype,wr=Object.prototype,mr=Function.prototype.toString,jr=wr.hasOwnProperty,Or=wr.toString,Ar=RegExp("^"+mr.call(jr).replace(ir,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=hr?br.Buffer:void 0,Sr=br.Symbol,Mr=br.Uint8Array,kr=Object.getOwnPropertySymbols,Er=Object.create,Dr=wr.propertyIsEnumerable,Fr=gr.splice,Rr=Object.getPrototypeOf,$r=Object.keys,zr=it(br,"DataView"),Cr=it(br,"Map"),Pr=it(br,"Promise"),Ur=it(br,"Set"),Ir=it(br,"WeakMap"),Lr=it(Object,"create"),Nr=yt(zr),qr=yt(Cr),Br=yt(Pr),Tr=yt(Ur),Zr=yt(Ir),Gr=Sr?Sr.prototype:void 0,Vr=Gr?Gr.valueOf:void 0;h.prototype.clear=d,h.prototype["delete"]=v,h.prototype.get=y,h.prototype.has=_,h.prototype.set=b,g.prototype.clear=w,g.prototype["delete"]=m,g.prototype.get=j,g.prototype.has=O,g.prototype.set=A,x.prototype.clear=S,x.prototype["delete"]=M,x.prototype.get=k,x.prototype.has=E,x.prototype.set=D,F.prototype.clear=R,F.prototype["delete"]=$,F.prototype.get=z,F.prototype.has=C,F.prototype.set=P;var Wr=G("length");kr||(ut=function(){return[]}),(zr&&ct(new zr(new ArrayBuffer(1)))!=Jt||Cr&&ct(new Cr)!=Lt||Pr&&ct(Pr.resolve())!=Bt||Ur&&ct(new Ur)!=Zt||Ir&&ct(new Ir)!=Wt)&&(ct=function(t){var r=Or.call(t),e=r==qt?t.constructor:void 0,n=e?yt(e):void 0;if(n)switch(n){case Nr:return Jt;case qr:return Lt;case Br:return Bt;case Tr:return Zt;case Zr:return Wt}return r});var Hr=Array.isArray,Jr=xr?function(t){return t instanceof xr}:kt(!1);r.exports=N}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,r,e){function n(t){return o(t,!1,!0)}var o=t("lodash._baseclone");r.exports=n},{"lodash._baseclone":8}]},{},[5]);